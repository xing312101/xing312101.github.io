"use strict";(self.webpackChunkxing_life_3=self.webpackChunkxing_life_3||[]).push([[5090],{307:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>_,frontMatter:()=>i,metadata:()=>o,toc:()=>u});var r=t(4848),s=t(8453);const i={},c="OpenSSL",o={id:"technique/ruby_on_rails/openssl",title:"OpenSSL",description:"",source:"@site/docs/technique/ruby_on_rails/openssl.md",sourceDirName:"technique/ruby_on_rails",slug:"/technique/ruby_on_rails/openssl",permalink:"/docs/technique/ruby_on_rails/openssl",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"techniqueSidebar",previous:{title:"number_to_currency",permalink:"/docs/technique/ruby_on_rails/number_to_currency"},next:{title:"Oracle database",permalink:"/docs/technique/ruby_on_rails/oracle_database"}},l={},u=[];function a(e){const n={code:"code",h1:"h1",header:"header",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"openssl",children:"OpenSSL"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"uri = URI.parse(url)\nif (443 == uri.port)\n\thttp = Net::HTTP.new(uri.host, uri.port)\n\thttp.use_ssl = true\n\thttp.verify_mode = OpenSSL::SSL::VERIFY_NONE # should use VERIFY_PEER in production\n\trequest = Net::HTTP::Get.new(uri.request_uri)\n\tdata= http.request(request).body\nelse\n\tdata= Net::HTTP.get_response(URI.parse(label_url)).body\nend\n"})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'client = nil;\n\nf_crt = File.read(SSL_CRT_PATH)\nf_key = File.read(SSL_KEY_PATH)\n\napi_url = "https://URL"\n\nssl_client_cert = OpenSSL::X509::Certificate.new(f_crt);\nssl_client_key = OpenSSL::PKey::RSA.new(f_key, SSL_KEY_PASSWORD);\n\nclient = RestClient::Resource.new(\n\tapi_url,\n\t:ssl_client_cert => ssl_client_cert,\n\t:ssl_client_key => ssl_client_key,\n\t:verify_ssl => false\n);\n\nclient.get()\n'})})]})}function _(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>o});var r=t(6540);const s={},i=r.createContext(s);function c(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);