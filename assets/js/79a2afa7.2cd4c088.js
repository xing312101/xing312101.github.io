"use strict";(self.webpackChunkxing_life_3=self.webpackChunkxing_life_3||[]).push([[5403],{5079:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>a});var s=t(4848),i=t(8453);const r={},o="Main Concepts",l={id:"technique/react/main_concepts",title:"Main Concepts",description:"reference//reactjs.org/docs/hello-world.html",source:"@site/docs/technique/react/main_concepts.md",sourceDirName:"technique/react",slug:"/technique/react/main_concepts",permalink:"/docs/technique/react/main_concepts",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"techniqueSidebar",previous:{title:"Hooks",permalink:"/docs/technique/react/hooks"},next:{title:"React.js",permalink:"/docs/technique/react/reactjs"}},c={},a=[{value:"github: https://github.com/xing312101/hello_react",id:"github-httpsgithubcomxing312101hello_react",level:3},{value:"Demo: https://react.xing312101.nctu.me",id:"demo-httpsreactxing312101nctume",level:3},{value:"Embedding Expressions in JSX",id:"embedding-expressions-in-jsx",level:3},{value:"Specifying Attributes with JSX",id:"specifying-attributes-with-jsx",level:3},{value:"Specifying Children with JSX",id:"specifying-children-with-jsx",level:3},{value:"JSX Prevents Injection Attacks",id:"jsx-prevents-injection-attacks",level:3},{value:"JSX Represents Objects",id:"jsx-represents-objects",level:3},{value:"Rendering an Element into the DOM",id:"rendering-an-element-into-the-dom",level:3},{value:"Updating the Rendered Element",id:"updating-the-rendered-element",level:3},{value:"Function and Class Components",id:"function-and-class-components",level:3},{value:"using ES6 class to define acomponet",id:"using-es6-class-to-define-acomponet",level:5},{value:"Rendering a Component",id:"rendering-a-component",level:3},{value:"Composing Components",id:"composing-components",level:3},{value:"Extracting Components",id:"extracting-components",level:3},{value:"\u2193\u2193\u2193\u2193\u2193\u2193\u2193\u2193\u2193\u2193",id:"",level:5},{value:"Props are Read-Only",id:"props-are-read-only",level:3},{value:"Converting a Function to a Class",id:"converting-a-function-to-a-class",level:3},{value:"Adding Local State to a Class",id:"adding-local-state-to-a-class",level:3},{value:"Adding Lifecycle Methods to a Class",id:"adding-lifecycle-methods-to-a-class",level:3},{value:"Do Not Modify State Directly",id:"do-not-modify-state-directly",level:3},{value:"State Updates May Be Asynchronous",id:"state-updates-may-be-asynchronous",level:3},{value:"State Updates are Merged",id:"state-updates-are-merged",level:3},{value:"Some different",id:"some-different",level:3},{value:"event name",id:"event-name",level:5},{value:"It can&#39;t return false in react",id:"it-cant-return-false-in-react",level:5},{value:"Using an ES6 class",id:"using-an-es6-class",level:3},{value:"without binding code",id:"without-binding-code",level:5},{value:"Passing Arguments to Event Handlers",id:"passing-arguments-to-event-handlers",level:3},{value:"Inline If with Logical &amp;&amp; Operator",id:"inline-if-with-logical--operator",level:3},{value:"Inline If-Else with Conditional Operator",id:"inline-if-else-with-conditional-operator",level:3},{value:"Preventing Component from Rendering",id:"preventing-component-from-rendering",level:3},{value:"Rendering Multiple Components&#39;",id:"rendering-multiple-components",level:3},{value:"Extracting Components with Keys",id:"extracting-components-with-keys",level:3},{value:"Keys Must Only Be Unique Among Siblings",id:"keys-must-only-be-unique-among-siblings",level:3},{value:"Embedding map() in JSX",id:"embedding-map-in-jsx",level:3},{value:"Controlled Components",id:"controlled-components",level:3},{value:"Note:",id:"note",level:5},{value:"The file input Tag",id:"the-file-input-tag",level:3},{value:"Handling Multiple Inputs",id:"handling-multiple-inputs",level:3},{value:"Controlled Input Null Value",id:"controlled-input-null-value",level:3},{value:"Alternatives to Controlled Components",id:"alternatives-to-controlled-components",level:3},{value:"Fully-Fledged Solutions",id:"fully-fledged-solutions",level:3},{value:"Containment",id:"containment",level:3},{value:"Specialization",id:"specialization",level:3}];function d(n){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h3:"h3",h5:"h5",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"main-concepts",children:"Main Concepts"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsxs)(e.p,{children:["reference: ",(0,s.jsx)(e.a,{href:"https://reactjs.org/docs/hello-world.html",children:"https://reactjs.org/docs/hello-world.html"})]}),"\n"]}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Using create-react-app to initial project"}),"\n"]}),"\n",(0,s.jsxs)(e.h3,{id:"github-httpsgithubcomxing312101hello_react",children:["github: ",(0,s.jsx)(e.a,{href:"https://github.com/xing312101/hello_react",children:"https://github.com/xing312101/hello_react"})]}),"\n",(0,s.jsxs)(e.h3,{id:"demo-httpsreactxing312101nctume",children:["Demo: ",(0,s.jsx)(e.a,{href:"https://react.xing312101.nctu.me",children:"https://react.xing312101.nctu.me"})]}),"\n",(0,s.jsx)(e.h1,{id:"hello-world",children:"Hello World"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://reactjs.org/docs/hello-world.html",children:"https://reactjs.org/docs/hello-world.html"})}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\u5148\u5728 src/index.js \u505a\u4fee\u6539"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"ReactDOM.render(\n  <h1>Hello, world!</h1>,\n  document.getElementById('root')\n);\n"})}),"\n",(0,s.jsx)(e.h1,{id:"introducing-jsx",children:"Introducing JSX"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://reactjs.org/docs/introducing-jsx.html",children:"https://reactjs.org/docs/introducing-jsx.html"})}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"embedding-expressions-in-jsx",children:"Embedding Expressions in JSX"}),"\n",(0,s.jsx)(e.p,{children:"\u5728view\u8ddfjavascript\u7684code\u53ef\u4ee5\u6df7\u8457\u5beb\u9032value"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"const name = \"Xing312101\";\nconst element = <h1>Hello, {name}</h1>\nReactDOM.render(\n  element,\n  document.getElementById('root')\n);\n"})}),"\n",(0,s.jsx)(e.h3,{id:"specifying-attributes-with-jsx",children:"Specifying Attributes with JSX"}),"\n",(0,s.jsx)(e.p,{children:"React DOM \u662f\u63a1\u7528\u99dd\u5cf0\u5f0f\u547d\u540dproperty, attribute\u6216class name"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"const element = <img src={user.avatarUrl}></img>;\n"})}),"\n",(0,s.jsx)(e.h3,{id:"specifying-children-with-jsx",children:"Specifying Children with JSX"}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u679ctag\u662f\u6c92\u6709\u5c0d\u61c9\u7684\u7d50\u5c3etag\uff0c\u9700\u8981\u7528 / \u4f86\u505a\u7d50\u5c3e"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"const element = <img src={user.avatarUrl} />;\n"})}),"\n",(0,s.jsx)(e.h3,{id:"jsx-prevents-injection-attacks",children:"JSX Prevents Injection Attacks"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"const title = response.potentiallyMaliciousInput;\n// This is safe:\nconst element = <h1>{title}</h1>;\n"})}),"\n",(0,s.jsx)(e.h3,{id:"jsx-represents-objects",children:"JSX Represents Objects"}),"\n",(0,s.jsx)(e.p,{children:"Babel compiler \u6703\u628aJSX\u8f49\u8b6f\u5230React.createElement()"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"const element = (\n  <h1 className=\"greeting\">\n    Hello, world!\n  </h1>\n);\n\nconst element = React.createElement(\n  'h1',\n  {className: 'greeting'},\n  'Hello, world!'\n);\n"})}),"\n",(0,s.jsx)(e.p,{children:"React.createElement()\u6703\u505a\u4e9b\u6aa2\u67e5\u7136\u5f8c\u7522\u51fa\u6c92\u6709BUG\u7684\u7a0b\u5f0f"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\u985e\u4f3c\u9019\u6a23\u7684\u7a0b\u5f0f\uff0c\u4e0b\u9762\u7bc4\u4f8b\u662f\u7c21\u5316\u7684sample\nconst element = {\n  type: 'h1',\n  props: {\n    className: 'greeting',\n    children: 'Hello, world!'\n  }\n};\n"})}),"\n",(0,s.jsx)(e.h1,{id:"rendering-elements",children:"Rendering Elements"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://reactjs.org/docs/rendering-elements.html",children:"https://reactjs.org/docs/rendering-elements.html"})}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"rendering-an-element-into-the-dom",children:"Rendering an Element into the DOM"}),"\n",(0,s.jsx)(e.p,{children:"\u901a\u5e38ReactDOM \u6703\u5728id\u662froot\u7684div\u9032\u884c"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"html:\n<div id=\"root\"></div>\n\njs:\nconst element = <h1>Hello, world</h1>;\nReactDOM.render(element, document.getElementById('root'));\n"})}),"\n",(0,s.jsx)(e.h3,{id:"updating-the-rendered-element",children:"Updating the Rendered Element"}),"\n",(0,s.jsx)(e.p,{children:"React Dom \u5728html\u53ea\u6703\u66f4\u65b0\u6709\u4fee\u6539\u7684\u8cc7\u6599"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"function tick() {\n  var now = new Date();\n  const element = (\n    <div>\n      <h1>Hello, Xing312101.</h1>\n      <h2>Date: {now.toLocaleDateString()}</h2>\n      <h2>Time: {now.toLocaleTimeString()}</h2>\n    </div>\n  );\n\n  ReactDOM.render(element, document.getElementById('root'));\n}\nsetInterval(tick, 1000);\n"})}),"\n",(0,s.jsx)(e.h1,{id:"components-and-props",children:"Components and Props"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://reactjs.org/docs/components-and-props.html",children:"https://reactjs.org/docs/components-and-props.html"})}),"\n"]}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"All React components must act like pure functions with respect to their props."}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"componet \u53ef\u4ee5\u770b\u4f5c\u662fjavascript\u7684function\uff0c\u53c3\u6578\u53ef\u4ee5\u5e36\u5165\u4efb\u4f55\u578b\u614b\u7684input\uff0creact\u7a31\u9019\u500binput\u53eb\u505a props"}),"\n",(0,s.jsx)(e.h3,{id:"function-and-class-components",children:"Function and Class Components"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"function Welcome(props) {\n  return <h1>Hello, {props.name}</h1>;\n}\n"})}),"\n",(0,s.jsx)(e.h5,{id:"using-es6-class-to-define-acomponet",children:"using ES6 class to define acomponet"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"class Welcome extends React.Component {\n  render() {\n    return <h1>Hello, {this.props.name}</h1>;\n  }\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"rendering-a-component",children:"Rendering a Component"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"function Wellcome(props) {\n  return <h1>Hello, {this.props.name}</h1>\n}\n\nconst element = <Wellcome name=\"Xing312101\" />;\nReactDOM.render(\n  element,\n  document.getElementById('root')\n);\n"})}),"\n",(0,s.jsx)(e.h3,{id:"composing-components",children:"Composing Components"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"function Wellcome(props) {\n  return <h1>Hello, {props.name}</h1>\n}\n\nfunction AppCompoents() {\n  return (\n    <div>\n      <Wellcome name=\"Xing312101\" />\n    </div>\n  );\n}\n\nReactDOM.render(\n  <AppCompoents />,\n  document.getElementById('root')\n);\n"})}),"\n",(0,s.jsx)(e.h3,{id:"extracting-components",children:"Extracting Components"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'function Comment(props) {\n  return (\n    <div className="Comment">\n      <div className="UserInfo">\n        <img className="Avatar"\n          src={props.author.avatarUrl}\n          alt={props.author.name}\n        />\n        <div className="UserInfo-name">\n          {props.author.name}\n        </div>\n      </div>\n      <div className="Comment-text">\n        {props.text}\n      </div>\n      <div className="Comment-date">\n        {formatDate(props.date)}\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(e.h5,{id:"",children:"\u2193\u2193\u2193\u2193\u2193\u2193\u2193\u2193\u2193\u2193"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'function Avatar(props) {\n  return (\n    <img className="Avatar"\n      src={props.user.avatarUrl}\n      alt={props.user.name}\n    />\n  );\n}\n\nfunction UserInfo(props) {\n  return (\n    <div className="UserInfo">\n      <Avatar user={props.user} />\n      <div className="UserInfo-name">\n        {props.user.name}\n      </div>\n    </div>\n  );\n}\n\nfunction Comment(props) {\n  return (\n    <div className="Comment">\n      <UserInfo user={props.author} />\n      <div className="Comment-text">\n        {props.text}\n      </div>\n      <div className="Comment-date">\n        {formatDate(props.date)}\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"props-are-read-only",children:"Props are Read-Only"}),"\n",(0,s.jsx)(e.p,{children:"\u4ee5\u4e0b\u662f return value or \u4fee\u6539\u81ea\u5df1\u672c\u8eab\u7684\u503c\u7684function\uff0c\u90fd\u4e0d\u662f\u4fee\u6539props"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"function sum(a, b) {\n  return a + b;\n}\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"function withdraw(account, amount) {\n  account.total -= amount;\n}\n"})}),"\n",(0,s.jsx)(e.h1,{id:"state-and-lifecycle",children:"State and Lifecycle"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://reactjs.org/docs/state-and-lifecycle.html",children:"https://reactjs.org/docs/state-and-lifecycle.html"})}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"converting-a-function-to-a-class",children:"Converting a Function to a Class"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"class Clock extends React.Component {\n  render() {\n    return (\n      <div>\n        <h1>Hello, Xing312101. This is class Clock.</h1>\n        <h2>It is {this.props.date.toLocaleTimeString()}.</h2>\n      </div>\n    );\n  }\n}\n\nfunction tick() {\n  ReactDOM.render(\n    <Clock date={new Date()} />,\n    document.getElementById('root')\n  );\n}\n\nsetInterval(tick, 1000);\n"})}),"\n",(0,s.jsx)(e.h3,{id:"adding-local-state-to-a-class",children:"Adding Local State to a Class"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"class Clock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {date: new Date()};\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>Hello, Xing312101. This is class Clock.</h1>\n        <h2>It is {this.state.date.toLocaleTimeString()}.</h2>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(\n    <Clock />,\n    document.getElementById('root')\n);\n"})}),"\n",(0,s.jsx)(e.h3,{id:"adding-lifecycle-methods-to-a-class",children:"Adding Lifecycle Methods to a Class"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"componentDidMount\ncomponentWillUnmount"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"class Clock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {date: new Date()};\n  }\n\n  componentDidMount() {\n    this.timerId = setInterval(\n      () => this.tick(),\n      1000\n    );\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerId);\n  }\n\n  tick() {\n    this.setState({\n      date: new Date()\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>Hello, Xing312101. This is class Clock.</h1>\n        <h2>It is {this.state.date.toLocaleTimeString()}.</h2>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(\n  <Clock />,\n  document.getElementById('root')\n);\n\n"})}),"\n",(0,s.jsx)(e.h1,{id:"using-state-correctly",children:"Using State Correctly"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"There are three things you should know about setState()."}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"do-not-modify-state-directly",children:"Do Not Modify State Directly"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"// Wrong\nthis.state.comment = 'Hello';\n\n// Correct\nthis.setState({comment: 'Hello'});\n"})}),"\n",(0,s.jsx)(e.h3,{id:"state-updates-may-be-asynchronous",children:"State Updates May Be Asynchronous"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Because this.props and this.state may be updated asynchronously, you should not rely on their values for calculating the next state."}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"// Wrong\nthis.setState({\n  counter: this.state.counter + this.props.increment,\n});\n\n// Correct\nthis.setState((state, props) => ({\n  counter: state.counter + props.increment\n}));\n\n// Correct\nthis.setState(function(state, props) {\n  return {\n    counter: state.counter + props.increment\n  };\n});\n"})}),"\n",(0,s.jsx)(e.h3,{id:"state-updates-are-merged",children:"State Updates are Merged"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"You can update them independently with separate setState()"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"  constructor(props) {\n    super(props);\n    this.state = {\n      posts: [],\n      comments: []\n    };\n  }\n\n  componentDidMount() {\n    fetchPosts().then(response => {\n      this.setState({\n        posts: response.posts\n      });\n    });\n\n    fetchComments().then(response => {\n      this.setState({\n        comments: response.comments\n      });\n    });\n  }\n"})}),"\n",(0,s.jsx)(e.h1,{id:"handling-events",children:"Handling Events"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://reactjs.org/docs/handling-events.html",children:"https://reactjs.org/docs/handling-events.html"})}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"some-different",children:"Some different"}),"\n",(0,s.jsx)(e.h5,{id:"event-name",children:"event name"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'// HTML:\n<button onclick="activateLasers()">\n  Activate Lasers\n</button>\n\n// React:\n<button onClick={activateLasers}>\n  Activate Lasers\n</button>\n'})}),"\n",(0,s.jsx)(e.h5,{id:"it-cant-return-false-in-react",children:"It can't return false in react"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'// HTML:\n<a href="#" onclick="console.log(\'The link was clicked.\'); return false">\n  Click me\n</a>\n\n// React:\nfunction ActionLink() {\n  function handleClick(e) {\n    e.preventDefault();\n    console.log(\'The link was clicked.\');\n  }\n\n  return (\n    <a href="#" onClick={handleClick}>\n      Click me\n    </a>\n  );\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"using-an-es6-class",children:"Using an ES6 class"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"class Toggle extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {isToggleOn: true};\n\n    // This binding is necessary to make `this` work in the callback\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick() {\n    this.setState(state => ({\n      isToggleOn: !state.isToggleOn\n    }));\n  }\n\n  render() {\n    return (\n      <button onClick={this.handleClick}>{this.state.isToggleOn ? 'On' : 'Off'}</button>\n    );\n  }\n}\n\nReactDOM.render(<Toggle />, document.getElementById('root'));\n"})}),"\n",(0,s.jsx)(e.h5,{id:"without-binding-code",children:"without binding code"}),"\n",(0,s.jsx)(e.p,{children:"experimental"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"class LoggingButton extends React.Component {\n  // This syntax ensures `this` is bound within handleClick.\n  // Warning: this is *experimental* syntax.\n  handleClick = () => {\n    console.log('this is:', this);\n  }\n\n  render() {\n    return (\n      <button onClick={this.handleClick}>\n        Click me\n      </button>\n    );\n  }\n}\n"})}),"\n",(0,s.jsx)(e.p,{children:"use an arrow function in the callback"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"class LoggingButton extends React.Component {\n  handleClick() {\n    console.log('this is:', this);\n  }\n\n  render() {\n    // This syntax ensures `this` is bound within handleClick\n    return (\n      <button onClick={() => this.handleClick()}>\n        Click me\n      </button>\n    );\n  }\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"passing-arguments-to-event-handlers",children:"Passing Arguments to Event Handlers"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"<button onClick={(e) => this.deleteRow(id, e)}>Delete Row</button>\n<button onClick={this.deleteRow.bind(this, id)}>Delete Row</button>\n"})}),"\n",(0,s.jsx)(e.h1,{id:"conditional-rendering",children:"Conditional Rendering"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://reactjs.org/docs/conditional-rendering.html",children:"https://reactjs.org/docs/conditional-rendering.html"})}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"class LoginControl extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleLoginClick = this.handleLoginClick.bind(this);\n    this.handleLogoutClick = this.handleLogoutClick.bind(this);\n    this.state = {isLoggedIn: false};\n  }\n\n  handleLoginClick() {\n    this.setState({isLoggedIn: true});\n  }\n\n  handleLogoutClick() {\n    this.setState({isLoggedIn: false});\n  }\n\n  render() {\n    const isLoggedIn = this.state.isLoggedIn;\n    let button;\n    if (isLoggedIn) {\n      button = <LogoutButton onClick={this.handleLogoutClick} />;\n    } else {\n      button = <LoginButton onClick={this.handleLoginClick} />;\n    }\n\n    return (\n      <div>\n        <Greeting isLoggedIn={isLoggedIn} />\n        {button}\n      </div>\n    );\n  }\n}\n\nReactDOM.render(\n  <LoginControl />,\n  document.getElementById('root')\n);\n"})}),"\n",(0,s.jsx)(e.h3,{id:"inline-if-with-logical--operator",children:"Inline If with Logical && Operator"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"function Mailbox(props) {\n  const unreadMessages = props.unreadMessages;\n  return (\n    <div>\n      <h1>Hello!</h1>\n      {unreadMessages.length > 0 &&\n        <h2>\n          You have {unreadMessages.length} unread messages.\n        </h2>\n      }\n    </div>\n  );\n}\n\nconst messages = ['React', 'Re: React', 'Re:Re: React'];\nReactDOM.render(\n  <Mailbox unreadMessages={messages} />,\n  document.getElementById('root')\n);\n"})}),"\n",(0,s.jsx)(e.h3,{id:"inline-if-else-with-conditional-operator",children:"Inline If-Else with Conditional Operator"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"render() {\n  const isLoggedIn = this.state.isLoggedIn;\n  return (\n    <div>\n      The user is <b>{isLoggedIn ? 'currently' : 'not'}</b> logged in.\n    </div>\n  );\n}\n"})}),"\n",(0,s.jsx)(e.p,{children:"or"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"render() {\n  const isLoggedIn = this.state.isLoggedIn;\n  return (\n    <div>\n      {isLoggedIn\n        ? <LogoutButton onClick={this.handleLogoutClick} />\n        : <LoginButton onClick={this.handleLoginClick} />\n      }\n    </div>\n  );\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"preventing-component-from-rendering",children:"Preventing Component from Rendering"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"function WarningBanner(props) {\n  if (!props.warn) {\n    return null;\n  }\n\n  return (\n    <div className=\"warning\">\n      Warning!\n    </div>\n  );\n}\n\nclass Page extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {showWarning: true};\n    this.handleToggleClick = this.handleToggleClick.bind(this);\n  }\n\n  handleToggleClick() {\n    this.setState(state => ({\n      showWarning: !state.showWarning\n    }));\n  }\n\n  render() {\n    return (\n      <div>\n        <WarningBanner warn={this.state.showWarning} />\n        <button onClick={this.handleToggleClick}>\n          {this.state.showWarning ? 'Hide' : 'Show'}\n        </button>\n      </div>\n    );\n  }\n}\n"})}),"\n",(0,s.jsx)(e.h1,{id:"lists-and-keys",children:"Lists and Keys"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://reactjs.org/docs/lists-and-keys.html",children:"https://reactjs.org/docs/lists-and-keys.html"})}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"const numbers = [1, 2, 3, 4, 5];\nconst doubled = numbers.map((number) => number * 2);\nconsole.log(doubled); // [2, 4, 6, 8, 10]\n"})}),"\n",(0,s.jsx)(e.h3,{id:"rendering-multiple-components",children:"Rendering Multiple Components'"}),"\n",(0,s.jsx)(e.p,{children:"\u6bcf\u500bitem\u4e00\u5b9a\u8981\u6709key"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"function NumberList(props) {\n  const numbers = props.numbers;\n  const listItems = numbers.map((number, index) => <li key={index}>{number}</li>)\n  return (<ul>{listItems}</ul>);\n}\n\nconst numbers = [1, 2, 3, 4, 5];\n\nReactDOM.render(\n  <NumberList numbers={numbers} />, document.getElementById('root')\n);\n"})}),"\n",(0,s.jsx)(e.h3,{id:"extracting-components-with-keys",children:"Extracting Components with Keys"}),"\n",(0,s.jsx)(e.p,{children:"key\u5b9a\u7fa9\u7684\u6642\u9593\u9ede\u8981\u5728array\u540c\u4e00\u500bblock"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"function ListItem(props) {\n  // key \u4e0d\u80fd\u5b9a\u7fa9\u5728\u9019\u88e1\n  return <li>{props.value}</li>\n}\n\nfunction NumberList(props) {\n  const numbers = props.numbers;\n  const listItems = numbers.map((number) =>\n    // key \u8981\u5b9a\u7fa9\u5728\u9019\u88e1\n    <ListItem key={number.toString()} value={number} />\n  );\n\n  return (<ul>{listItems}</ul>);\n}\n\nconst numbers = [1, 2, 3, 4, 5];\n\nReactDOM.render(\n  <NumberList numbers={numbers} />, document.getElementById('root')\n);\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"keys-must-only-be-unique-among-siblings",children:"Keys Must Only Be Unique Among Siblings"}),"\n",(0,s.jsx)(e.p,{children:"\u4e0d\u540c\u7684array\u53ef\u4ee5\u7528\u540c\u4e00\u500b\u540d\u7a31\u7684key\uff0c\u4e0d\u9700\u8981\u8003\u616e\u5168\u57df\u7684\u72c0\u6cc1"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"function Blog(props) {\n  const sidebar = (\n    <ul>\n      {props.posts.map((post) =>\n        <li key={post.id}>\n          {post.title}\n        </li>\n      )}\n    </ul>\n  );\n  const content = props.posts.map((post) =>\n    <div key={post.id}>\n      <h3>{post.title}</h3>\n      <p>{post.content}</p>\n    </div>\n  );\n  return (\n    <div>\n      {sidebar}\n      <hr />\n      {content}\n    </div>\n  );\n}\n\nconst posts = [\n  {id: 1, title: 'Hello World', content: 'Welcome to learning React!'},\n  {id: 2, title: 'Installation', content: 'You can install React from npm.'}\n];\nReactDOM.render(\n  <Blog posts={posts} />,\n  document.getElementById('root')\n);\n"})}),"\n",(0,s.jsx)(e.h3,{id:"embedding-map-in-jsx",children:"Embedding map() in JSX"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"function NumberList(props) {\n  const numbers = props.numbers;\n  return (\n    <ul>\n      {numbers.map((number) =>\n        <ListItem key={number.toString()}\n                  value={number} />\n      )}\n    </ul>\n  );\n}\n"})}),"\n",(0,s.jsx)(e.h1,{id:"forms",children:"Forms"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://reactjs.org/docs/forms.html",children:"https://reactjs.org/docs/forms.html"})}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"controlled-components",children:"Controlled Components"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'class NameForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {name: \'\', description: \'\', age: 0};\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({[event.target.name]: event.target.value});\n  }\n\n  handleSubmit(event) {\n    console.log(\'name:\' + this.state.name);\n    console.log(\'description:\' + this.state.description);\n    console.log(\'age:\' + this.state.age);\n    event.preventDefault();\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <label>\n          Name:\n          <input type="text" name="name" value={this.state.name} onChange={this.handleChange} />\n        </label>\n        <br />\n        <label>\n          Description:\n          <textarea name="description" value={this.state.description} onChange={this.handleChange} />\n        </label>\n        <br />\n        <label>\n          Age:\n          <select name="age" value={this.state.age} onChange={this.handleChange}>\n            <option value="10">Ten years</option>\n            <option value="20">Twenty years</option>\n            <option value="30">Thirty years</option>\n            <option value="40">Forty years</option>\n          </select>\n        </label>\n        <input type="submit" value="Submit" />\n      </form>\n    )\n  };\n}\n\nReactDOM.render(<NameForm />, document.getElementById(\'root\'));\n'})}),"\n",(0,s.jsx)(e.h5,{id:"note",children:"Note:"}),"\n",(0,s.jsx)(e.p,{children:"You can pass an array into the value attribute, allowing you to select multiple options in a select tag:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"<select multiple={true} value={['B', 'C']}>\n"})}),"\n",(0,s.jsx)(e.h3,{id:"the-file-input-tag",children:"The file input Tag"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://reactjs.org/docs/uncontrolled-components.html#the-file-input-tag",children:"https://reactjs.org/docs/uncontrolled-components.html#the-file-input-tag"})}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'<input type="file" />\n'})}),"\n",(0,s.jsx)(e.h3,{id:"handling-multiple-inputs",children:"Handling Multiple Inputs"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"// ES6\nthis.setState({\n  [name]: value\n});\n\n// ES5\nvar partialState = {};\npartialState[name] = value;\nthis.setState(partialState);\n"})}),"\n",(0,s.jsx)(e.h3,{id:"controlled-input-null-value",children:"Controlled Input Null Value"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'ReactDOM.render(<input value="hi" />, mountNode);\n\nsetTimeout(function() {\n  ReactDOM.render(<input value={null} />, mountNode);\n}, 1000);\n'})}),"\n",(0,s.jsx)(e.h3,{id:"alternatives-to-controlled-components",children:"Alternatives to Controlled Components"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://reactjs.org/docs/uncontrolled-components.html",children:"https://reactjs.org/docs/uncontrolled-components.html"})}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"fully-fledged-solutions",children:"Fully-Fledged Solutions"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://jaredpalmer.com/formik",children:"https://jaredpalmer.com/formik"})}),"\n"]}),"\n",(0,s.jsx)(e.h1,{id:"lifting-state-up",children:"Lifting State Up"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://reactjs.org/docs/lifting-state-up.html",children:"https://reactjs.org/docs/lifting-state-up.html"})}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\u7c21\u55ae\u8b1b\u5c31\u662fchildren\u7684\u503c\u4ea4\u7531parent\u53bb\u8655\u7406"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"const scaleNames = {\n  c: 'Celsius',\n  f: 'Fahrenheit'\n}\n\nfunction BoilingVerdict(props) {\n  if (props.celsius >= 100) {\n    return <p>The wather would boil.</p>\n  }\n  return <p>The water would not boil.</p>\n}\n\nfunction toCelsius(fahrenheit) {\n  return (fahrenheit -32) * 5 / 9;\n}\n\nfunction toFahrenheit(celsius) {\n  return (celsius * 9 / 5) + 32;\n}\n\nfunction tryToConvert(temperature, convert) {\n  const input = parseFloat(temperature);\n\n  if (Number.isNaN(input)) {\n    return '';\n  }\n\n  const output = convert(input);\n  const rounded = Math.round(output * 1000) / 1000;\n  return rounded.toString();\n\n}\n\nclass TemperatureInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    // this.state = {\n    //   scale: props.scale,\n    //   temperature: props.temperature\n    // }\n\n    // console.log(\"props\", props.scale, props.temperature);\n    // console.log(\"state\", this.state.scale, this.state.temperature);\n  }\n\n  handleChange(e) {\n    // this.setState({[e.target.name]: e.target.value});\n    this.props.onTemperatureChange(e.target.value);\n  }\n\n  render() {\n    // const temperature = this.state.temperature;\n\n    const temperature = this.props.temperature;\n    const scale = this.props.scale;\n\n    return (\n      <fieldset>\n        <legend>Enter temperature in {scaleNames[scale]}:</legend>\n        <input\n          // name='temperature'\n          value={temperature}\n          onChange={this.handleChange}\n        />\n      </fieldset>\n    );\n  }\n}\n\nclass Calculator extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      temperature: 0,\n      scale: 'c'\n    }\n\n    this.handleCelsiusChange = this.handleCelsiusChange.bind(this);\n    this.handleFahrenheitChange = this.handleFahrenheitChange.bind(this);\n  }\n\n  handleCelsiusChange(temperature) {\n    this.setState({scale: 'c', temperature});\n  }\n\n  handleFahrenheitChange(temperature) {\n    this.setState({scale: 'f', temperature});\n  }\n\n  render() {\n    const scale = this.state.scale;\n    const temperature = this.state.temperature;\n    const celsius = scale === 'f' ? tryToConvert(temperature, toCelsius) : temperature;\n    const fahrenheit = scale === 'c' ? tryToConvert(temperature, toFahrenheit) : temperature;\n\n    return (\n      <div>\n        <TemperatureInput scale='c' temperature={celsius} onTemperatureChange={this.handleCelsiusChange} />\n        <TemperatureInput scale='f' temperature={fahrenheit} onTemperatureChange={this.handleFahrenheitChange} />\n        <BoilingVerdict celsius={parseFloat(celsius)} />\n      </div>\n    );\n  }\n}\n\n"})}),"\n",(0,s.jsx)(e.h1,{id:"composition-vs-inheritance",children:"Composition vs Inheritance"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://reactjs.org/docs/composition-vs-inheritance.html",children:"https://reactjs.org/docs/composition-vs-inheritance.html"})}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"containment",children:"Containment"}),"\n",(0,s.jsx)(e.p,{children:"tag\u5305\u8d77\u4f86\u7684\u90e8\u5206\u6703\u653e\u9032 props.children\u88e1\u9762"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'function FancyBorder(props) {\n  return (\n    <div className={\'FancyBorder FancyBorder-\' + props.color}>\n      {props.children}\n    </div>\n  );\n}\n\nfunction WelcomeDialog() {\n  return (\n    <FancyBorder color="blue">\n      <h1 className="Dialog-title">\n        Welcome\n      </h1>\n      <p className="Dialog-message">\n        Thank you for visiting our spacecraft!\n      </p>\n    </FancyBorder>\n  );\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u6307\u5b9a\u540d\u7a31\u4e26\u6307\u5411\u67d0\u500bcomponent"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'function Contacts() {\n  return <div className="Contacts" />;\n}\n\nfunction Chat() {\n  return <div className="Chat" />;\n}\n\nfunction SplitPane(props) {\n  return (\n    <div className="SplitPane">\n      <div className="SplitPane-left">\n        {props.left}\n      </div>\n      <div className="SplitPane-right">\n        {props.right}\n      </div>\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <SplitPane\n      left={\n        <Contacts />\n      }\n      right={\n        <Chat />\n      } />\n  );\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"specialization",children:"Specialization"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'function FancyBorder(props) {\n  return (\n    <div className={\'FancyBorder FancyBorder-\' + props.color}>\n      {props.children}\n    </div>\n  );\n}\n\nfunction Dialog(props) {\n  return (\n    <FancyBorder color="blue">\n      <h1 className="Dialog-title">\n        {props.title}\n      </h1>\n      <p className="Dialog-message">\n        {props.message}\n      </p>\n      {props.children}\n    </FancyBorder>\n  );\n}\n\nclass SignUpDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSignUp = this.handleSignUp.bind(this);\n    this.state = {login: \'\'};\n  }\n\n  render() {\n    return (\n      <Dialog title="Mars Exploration Program"\n              message="How should we refer to you?">\n        <input value={this.state.login}\n               onChange={this.handleChange} />\n        <button onClick={this.handleSignUp}>\n          Sign Me Up!\n        </button>\n      </Dialog>\n    );\n  }\n\n  handleChange(e) {\n    this.setState({login: e.target.value});\n  }\n\n  handleSignUp() {\n    alert(`Welcome aboard, ${this.state.login}!`);\n  }\n}\n'})}),"\n",(0,s.jsx)(e.h1,{id:"thinking-in-react",children:"Thinking in React"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://reactjs.org/docs/thinking-in-react.html",children:"https://reactjs.org/docs/thinking-in-react.html"})}),"\n"]}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"\u53ef\u4ee5\u7576\u7df4\u7fd2\u984c"}),"\n"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u62c6\u89e3UI"}),"\n",(0,s.jsx)(e.li,{children:"\u4e0d\u8981\u5168\u90e8\u90fd\u7528 state \u8655\u7406\u8cc7\u6599"}),"\n",(0,s.jsx)(e.li,{children:"React \u662f one-way data flow"}),"\n",(0,s.jsx)(e.li,{children:"\u601d\u8003\u8981\u7528 Props \u6216 State \uff0c\u4e3b\u8981\u770bcomponent UI\u7684\u76ee\u7684\u662f\u5728controller\u9084\u662fview"}),"\n",(0,s.jsx)(e.li,{children:"\u601d\u8003\u61c9\u8a72\u6709\u54ea\u4e9bstate"}),"\n",(0,s.jsx)(e.li,{children:"\u601d\u8003\u90a3\u4e9bstate\u662f\u6d3b\u52d5\u7684"}),"\n",(0,s.jsx)(e.li,{children:"\u8cc7\u6599\u8981\u53ef\u9006\uff0c\u4e0d\u8981\u6539\u5beb\u539f\u8cc7\u6599"}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>o,x:()=>l});var s=t(6540);const i={},r=s.createContext(i);function o(n){const e=s.useContext(r);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:o(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);