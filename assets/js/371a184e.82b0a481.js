"use strict";(self.webpackChunkxing_life_3=self.webpackChunkxing_life_3||[]).push([[7337],{407:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>c});var o=n(4848),a=n(8453);const i={},s="CustomDetectionModelTraining",r={id:"technique/imageai/customdetectionmodeltraining",title:"CustomDetectionModelTraining",description:"https://github.com/OlafenwaMoses/ImageAI/blob/master/imageai/Detection/Custom/CUSTOMDETECTIONTRAINING.md",source:"@site/docs/technique/imageai/customdetectionmodeltraining.md",sourceDirName:"technique/imageai",slug:"/technique/imageai/customdetectionmodeltraining",permalink:"/docs/technique/imageai/customdetectionmodeltraining",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"techniqueSidebar",previous:{title:"ImageAI",permalink:"/docs/technique/imageai/"},next:{title:"FirstCustomDetection",permalink:"/docs/technique/imageai/firstcustomdetection"}},l={},c=[{value:"Training on your custom dataset",id:"training-on-your-custom-dataset",level:2},{value:"Evaluating your saved detection models&#39; mAP",id:"evaluating-your-saved-detection-models-map",level:2},{value:"Multi Model Evaluation:",id:"multi-model-evaluation",level:4}];function d(e){const t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h4:"h4",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"customdetectionmodeltraining",children:"CustomDetectionModelTraining"})}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://github.com/OlafenwaMoses/ImageAI/blob/master/imageai/Detection/Custom/CUSTOMDETECTIONTRAINING.md",children:"https://github.com/OlafenwaMoses/ImageAI/blob/master/imageai/Detection/Custom/CUSTOMDETECTIONTRAINING.md"})}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"training-on-your-custom-dataset",children:"Training on your custom dataset"}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://github.com/OlafenwaMoses/ImageAI/releases/tag/essential-v4",children:"https://github.com/OlafenwaMoses/ImageAI/releases/tag/essential-v4"})}),"\n"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'from imageai.Detection.Custom import DetectionModelTrainer\nimport os\n\nhololensDataPath = "/Users/xing312101/study/hololensData"\nhololensImagesDirPath = os.path.join(hololensDataPath, "hololens")\npretrainedModelPath = os.path.join(hololensDataPath, "pretrained-yolov3.h5")\n\n\ntrainer = DetectionModelTrainer()\ntrainer.setModelTypeAsYOLOv3()\ntrainer.setDataDirectory(data_directory=hololensImagesDirPath)\ntrainer.setTrainConfig(object_names_array=[\n                       "hololens"], batch_size=4, num_experiments=200, train_from_pretrained_model=pretrainedModelPath)\n# In the above,when training for detecting multiple objects,\n# set object_names_array=["object1", "object2", "object3",..."objectz"]\ntrainer.trainModel()\n\n'})}),"\n",(0,o.jsx)(t.h2,{id:"evaluating-your-saved-detection-models-map",children:"Evaluating your saved detection models' mAP"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'from imageai.Detection.Custom import DetectionModelTrainer\nimport os\n\nhololensDataPath = "/Users/xing312101/study/hololensData"\nhololensImagesDirPath = os.path.join(hololensDataPath, "hololens")\n# pretrainedModelPath = os.path.join(hololensDataPath, "pretrained-yolov3.h5")\ndetectionModelPath = os.path.join(\n    hololensDataPath, "hololens-ex-60--loss-2.76.h5")\ndetectionConfigJsonPath = os.path.join(\n    hololensDataPath, "detection_config.json")\n\ntrainer = DetectionModelTrainer()\ntrainer.setModelTypeAsYOLOv3()\ntrainer.setDataDirectory(data_directory=hololensImagesDirPath)\nmetrics = trainer.evaluateModel(\n    model_path=detectionModelPath,\n    json_path=detectionConfigJsonPath,\n    iou_threshold=0.5,\n    object_threshold=0.3,\n    nms_threshold=0.5\n)\n\n'})}),"\n",(0,o.jsx)(t.h4,{id:"multi-model-evaluation",children:"Multi Model Evaluation:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'metrics = trainer.evaluateModel(model_path="hololens/models", json_path="hololens/json/detection_config.json", iou_threshold=0.5, object_threshold=0.3, nms_threshold=0.5)\n\n'})})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var o=n(6540);const a={},i=o.createContext(a);function s(e){const t=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),o.createElement(i.Provider,{value:t},e.children)}}}]);