"use strict";(self.webpackChunkxing_life_3=self.webpackChunkxing_life_3||[]).push([[7834],{4042:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>c,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>d});var o=n(4848),i=n(8453);const a={},c="FirstCustomDetection",s={id:"technique/imageai/firstcustomdetection",title:"FirstCustomDetection",description:"https://github.com/OlafenwaMoses/ImageAI/blob/master/imageai/Detection/Custom/CUSTOMDETECTION.md",source:"@site/docs/technique/imageai/firstcustomdetection.md",sourceDirName:"technique/imageai",slug:"/technique/imageai/firstcustomdetection",permalink:"/docs/technique/imageai/firstcustomdetection",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"techniqueSidebar",previous:{title:"CustomDetectionModelTraining",permalink:"/docs/technique/imageai/customdetectionmodeltraining"},next:{title:"FirstCustomModelTraining",permalink:"/docs/technique/imageai/firstcustommodeltraining"}},r={},d=[{value:"Object Detection, Extraction and Fine-tune",id:"object-detection-extraction-and-fine-tune",level:4},{value:"Hiding/Showing Object Name and Probability",id:"hidingshowing-object-name-and-probability",level:4},{value:"Image Input &amp; Output Types",id:"image-input--output-types",level:3}];function p(e){const t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"firstcustomdetection",children:"FirstCustomDetection"})}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://github.com/OlafenwaMoses/ImageAI/blob/master/imageai/Detection/Custom/CUSTOMDETECTION.md",children:"https://github.com/OlafenwaMoses/ImageAI/blob/master/imageai/Detection/Custom/CUSTOMDETECTION.md"})}),"\n"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'from imageai.Detection.Custom import CustomObjectDetection\nimport os\n\nai_models_path = "/Users/xing312101/study/aiModels"\nimage_ai_path = "/Users/xing312101/study/ImageAI"\ndata_images_path = image_ai_path + "/data-images"\noutput_path = "/Users/xing312101/study/xImageAi/output"\n\nhololensDataPath = "/Users/xing312101/study/aiModels/customObjectDetectionData"\ndetectionModelPath = os.path.join(\n    hololensDataPath, "hololens-ex-60--loss-2.76.h5")\ndetectionConfigJsonPath = os.path.join(\n    hololensDataPath, "detection_config.json")\n\ndetector = CustomObjectDetection()\ndetector.setModelTypeAsYOLOv3()\ndetector.setModelPath(detectionModelPath)\ndetector.setJsonPath(detectionConfigJsonPath)\ndetector.loadModel()\ndetections = detector.detectObjectsFromImage(\n    input_image=os.path.join(data_images_path, "holo2.jpg"),\n    output_image_path=os.path.join(output_path, "holo2-detected.jpg")\n)\nfor detection in detections:\n    print(detection["name"], " : ", detection["percentage_probability"],\n          " : ", detection["box_points"])\n\n'})}),"\n",(0,o.jsx)(t.h4,{id:"object-detection-extraction-and-fine-tune",children:"Object Detection, Extraction and Fine-tune"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'\ndetections, extracted_objects_array = detector.detectObjectsFromImage(\n    input_image=os.path.join(data_images_path, "holo2.jpg"),\n    output_image_path=os.path.join(output_path, "holo2-detected.jpg"),\n    extract_detected_objects=True\n)\n\nfor detection, object_path in zip(detections, extracted_objects_array):\n    print(object_path)\n    print(detection["name"], " : ", detection["percentage_probability"],\n          " : ", detection["box_points"])\n    print("---------------")\n\n'})}),"\n",(0,o.jsx)(t.h4,{id:"hidingshowing-object-name-and-probability",children:"Hiding/Showing Object Name and Probability"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'detections, extracted_objects_array = detector.detectObjectsFromImage(\n    input_image=os.path.join(data_images_path, "holo2.jpg"),\n    output_image_path=os.path.join(output_path, "holo2-detected.jpg"),\n    extract_detected_objects=True,\n    minimum_percentage_probability=30,\n    display_percentage_probability=False,\n    display_object_name=False\n)\n'})}),"\n",(0,o.jsx)(t.h3,{id:"image-input--output-types",children:"Image Input & Output Types"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'# For numpy array input type\ndetections = detector.detectObjectsFromImage(input_type="array", input_image=image_array , output_image_path=os.path.join(execution_path , "holo2-detected.jpg"))\n\n# For numpy array output type\ndetected_image_array, detections = detector.detectObjectsFromImage(output_type="array", input_image="holo2.jpg" )\n\n'})})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>c,x:()=>s});var o=n(6540);const i={},a=o.createContext(i);function c(e){const t=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),o.createElement(a.Provider,{value:t},e.children)}}}]);