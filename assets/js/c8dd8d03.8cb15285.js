"use strict";(self.webpackChunkxing_life_3=self.webpackChunkxing_life_3||[]).push([[7645],{832:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>c,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>a});var o=t(4848),r=t(8453);const i={},c="coding",s={id:"technique/maximo/coding",title:"coding",description:"sample",source:"@site/docs/technique/maximo/coding.md",sourceDirName:"technique/maximo",slug:"/technique/maximo/coding",permalink:"/docs/technique/maximo/coding",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"techniqueSidebar",previous:{title:"Birt in Maximo",permalink:"/docs/technique/maximo/birt"},next:{title:"loading icon",permalink:"/docs/technique/maximo/loading_icon"}},p={},a=[{value:"sample",id:"sample",level:2},{value:"MBO",id:"mbo",level:3},{value:"MBOSET",id:"mboset",level:3},{value:"SERVICE",id:"service",level:3}];function m(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",pre:"pre",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"coding",children:"coding"})}),"\n",(0,o.jsx)(n.h2,{id:"sample",children:"sample"}),"\n",(0,o.jsx)(n.h3,{id:"mbo",children:"MBO"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'## Wo.java\npackage com.app.workorder;\n\nimport java.rmi.RemoteException;\nimport psdi.mbo.MboSet;\nimport psdi.util.MXException;\n\npublic class Wo extends psdi.pluss.app.workorder.PlusSWO {\n\n  public Wo(MboSet arg0) throws MXException, RemoteException {\n    super(arg0);\n  }\n\n  public void init() throws MXException{\n    System.out.println("WO init()");\n    super.init();\n  }\n\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"mboset",children:"MBOSET"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'## WoSet.java\npackage com.app.workorder;\n\nimport java.rmi.RemoteException;\n\nimport psdi.mbo.Mbo;\nimport psdi.mbo.MboServerInterface;\nimport psdi.mbo.MboSet;\nimport psdi.util.MXException;\nimport psdi.util.logging.MXLogger;\nimport psdi.util.logging.MXLoggerFactory;\n\npublic class WoSet extends psdi.pluss.app.workorder.PlusSWOSet {\n\n  MXLogger myLogger = MXLoggerFactory.getLogger("maximo.sql.LOCATION.LOCATIONS");\n\n  public WoSet(MboServerInterface arg0) throws MXException, RemoteException {\n    super(arg0);\n    //TODO Auto-generated constructor stub\n  }\n\n  protected Mbo getMboInstance(MboSet ms) throws MXException,RemoteException{\n    return new Wo(ms);\n  }\n\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"service",children:"SERVICE"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'## WoService.java\npackage com.app.workorder;\n\nimport com.app.ComAppUtil;\nimport java.rmi.RemoteException;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.jws.WebMethod;\n\nimport com.ibm.json.java.JSONObject;\nimport com.ibm.json.java.JSON;\nimport com.ibm.json.java.JSONArray;\n\nimport psdi.app.workorder.WOService;\nimport psdi.iface.webservices.action.WSMboKey;\nimport psdi.mbo.MboRemote;\nimport psdi.mbo.MboSetRemote;\nimport psdi.server.MXServer;\nimport psdi.util.MXException;\n\npublic class WoService extends WOService {\n\n  private ConnectionKey conKey;\n  private DBShortcut dbs;\n\n  public WoService(MXServer mxServer) throws RemoteException {\n    super(mxServer);\n\n    try {\n      conKey = mxServer.getSystemUserInfo().getConnectionKey();\n    } catch (MXException e) {\n      e.printStackTrace();\n    }\n  }\n\n  @WebMethod\n  public String updateByPost(@WSMboKey(value = "WORKORDER") MboRemote wo, String data, String version) {\n    JSONObject jsonReturnObj = new JSONObject();\n    jsonReturnObj.put("success", true);\n    return (jsonReturnObj.toString());\n  }\n\n  @WebMethod\n  public String getDate() {\n    JSONArray jsonArray = new JSONArray();\n    try {\n      dbs = new DBShortcut();\n      dbs.connect(conKey);\n      StringBuffer sql = new StringBuffer();\n      sql.append("select * ");\n      sql.append(" from ....");\n\n      ResultSet rs = dbs.executeQuery(sql.toString());\n\n      while (rs.next()) {\n        JSONObject jsonObj = new JSONObject();\n        jsonObj.put("AAA", rs.getString("AAA"));\n\n        jsonArray.add(jsonObj);\n      }\n\n      rs.close();\n    } catch (Exception ex) {\n      ex.printStackTrace();\n      dbs.close();\n    } finally {\n      dbs.close();\n      dbs = null;\n    }\n\n    return (jsonArray.toString());\n  }\n}\n\n'})})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(m,{...e})}):m(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>s});var o=t(6540);const r={},i=o.createContext(r);function c(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);