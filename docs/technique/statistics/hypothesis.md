# hypothesis 虛無假設 vs 對立假設
> https://zh.wikipedia.org/zh-tw/%E6%AA%A2%E5%AE%9A%E5%8A%9B

H_0：虛無假設

| 真實情況 ↓ / 判斷 → | 拒絕 \( H_0 \)                                 | 不拒絕 \( H_0 \)                             |
|----------------------|------------------------------------------------|----------------------------------------------|
| \( H_0 \) 為真        | ❌ 錯誤判斷（型一錯誤 Type I error）<br />發生機率 = \( \alpha \)<br />又稱「棄真」 | ✅ 正確判斷<br />發生機率 = \( 1 - \alpha \)（不常強調）     |
| \( H_a \) 為真        | ✅ 正確判斷<br />發生機率 = \( 1 - \beta \)（檢定力 Power）   | ❌ 錯誤判斷（型二錯誤 Type II error）<br />發生機率 = \( \beta \)<br />又稱「存偽」 |



## 假設檢定
因為收到的是樣本，不能100%定論
ex: 黑天鵝 白天鵝

1. 建立「沒有差異」的虛無假設
2. 計算適當的指標
3. 計算該指標發生的機率
4. 根據該機率去判斷該虛無假設是否要接受


## 一開始要建立「沒有差異」的虛無假設
因為存在差異的話，會引申出無限多個差異的假設，要討論下去會無限多

## 卡方檢測
```
X = SUM((觀測次數 - 期望次數)^2 / 期望次數) 

X念 [chi]
```
當 X > 自由度對應的機率，就表示虛無假設發生的機率小於”顯著水準“

#### 自由度
1. 類別數 - 1
2. (num of columns -1) * (num of rows - 1)

#### 顯著水準
介於5%到1%
要一開始就要設定

## T 檢定: 獨立樣本
兩組樣本彼此之間沒有任何關聯或配對，例如 A 組與 B 組是不同人測量的結果
```
差之標準誤差 = sqrt((不偏變異數A/樣本數A) + (不偏變異數B/樣本數B))
t = 平均數差 / 差之標準誤差
```

## T 檢定: 單一樣本（成對、相依）
同一個體或密切配對的樣本，在兩個不同情境下進行測量
```
差之標準誤差 = sqrt(樣本變異數/(樣本數-1))  # 樣本數-1是因為是抽檢
t = 平均數差 / 差之標準誤差
```

## 用信賴區間去比較
```
平均數差的信賴區間 = (樣本平均數Ａ-樣本平均數B) ± t * (差之標準誤差)
```
信賴區間整體 < 0：表示兩組平均數差異為負，且達統計顯著
信賴區間包含 0：無法拒絕虛無假設，表示差異可能不顯著
信賴區間整體 > 0：表示差異為正，且達統計顯著

## 檢定力
正確地拒絕錯誤的虛無假設
單一樣本比獨立樣本更有檢定力

## 特定事件的機率
不段重複做同樣的事情，特定事件發生的機率就會變得比較高

#### Type I error
錯誤地拒絕"正確的虛無假設"
```
(1 - (1-0.05) * (1-0.05) * (1-0.05)) > 0.05
這不對
```

## 變異數分析 (單因子) F-分布
```
與總平均數的偏差=組間偏差+組內偏差
總平方和（Total Sum of Squares, SST） = 組間平方和（SSB）+ 組內平方和（SSW）
```
#### 組間偏差
跟總平均的比較

#### 組內偏差
跟各組的平均的比較

#### 組間差異 遠大於 組內差異
拒絕虛無假設

#### 計算平方和
平方和（Sum of Squares） = 樣本變異數 × (樣本數 - 1)

#### 總平方和
全部樣本變異數*全部樣本數

#### 組內平方和
各組的“平方和”的總和

#### 組間平方和
總平方和 - 組內平方和

#### 組間自由度
組數 - 1

#### 組內自由度
各組的樣本數-1然後相加
(A的樣本數-1) + (B的樣本數-1) + (C的樣本數-1)

#### 總自由度
各組資料的樣本數總和 - 1

#### 組間均方和
組間平方和 / 自由度

#### 組內均方和
組內平方和 / 自由度

#### F
F = 組間均方和 / 組內均方和
用組間自由度和組內自由度查表，跟F比大小
若F > 查表結果，拒絕虛無假設 => 表示“沒有差異”的假設是錯的 => 表示裡面有兩組彼此有差異


## 變異數分析 (雙因子) F-分布
多因子交互作用下造成差異
#### 與總平均數的偏差
組間偏差+組內偏差

ex: 口感因子造成的偏差 + 調料因子造成的偏差 + 殘餘偏差(殘差)
殘餘偏差相當於單因子變異數分析中的「組內偏差」

考慮交互作用的狀況會又不一樣的結果
=> 口感因子造成的偏差 + 調料因子造成的偏差 +.口感因子與調料因子組合早成的偏差 + 殘餘偏差(殘差)
=> 全體偏差 = 因子1造成的偏差 + 因子2造成的偏差 + 交互作用造成的偏差 + 殘餘偏差(殘差)

#### 交互作用的偏差
各組平均數的偏差總和 - 因子1造成的偏差 - 因子2造成的偏差

#### 交互作用的自由度
因子1*因子2

#### 殘差自由度
全體的自由度 - 因子1的自由度 - 因子...的自由度 - 交互作用的自由度

#### 交互作用圖表
若因子1跟因子2有交互作用，資料上一定要附上交互作用的圖表