# regression line 迴歸線
SLR: simple linear regression 簡單迴歸(只有一個自變相)
MLR/MR: multiple regression 複回歸 (兩個以上的自變相)

## 數值的討論不能超出歷史數據！！！

## 殘差 residual
actual value - predict value

## 最小平方法
找出一條直線，殘差平方和最小的線
殘差平方=殘差為邊長的正方形

#### 迴歸線 斜率
迴歸線的斜率=相關係數*(y的標準差 / x的標準差)

#### y截距 和 斜率
y截距=y的平均 - (斜率 * x的平均)

## 偏相關
r: 偏相關係數
計算出殘差之間的相關係數就是偏相關係數
從最低氣溫與顧客人數的關係中排除最高氣溫的影響，就稱為偏相關，其值稱爲偏相關係數

#### 偏迴歸係數
```
a表示最高溫度, b表示最低溫度, y表示顧客人數
偏迴歸係數：rby - (ray * rab) / (sqrt(1-ray^2) * sqrt(1-rab^2))
```

#### 最高氣溫的顧客人數的散布圖
= 迴歸成分(相關1) + 殘差(相關0)
最高氣溫與最低氣溫的散布圖
= 迴歸成分(相關1) + 殘差(相關0)


## 複迴歸 multiple regression
β: 標準化(偏)迴歸係數
對於 哪個因子影響比較多，要用「標準化(偏)迴歸係數」可以呈現不同自變相的相對重要性

R：複相關係數，用來判斷預測值Y'與實際值Y之間的相關程度(取絕對值, 範圍0~1)
R^2：判定係數解釋力
R^2 介於0到1

R是關聯性 R^2是解釋力

反應變數：response variable

解釋變數：explanatory variable

```
顧客人數的預測值=迴歸線的y截距+回歸線的斜率*最高氣溫

顧客人數的預測值 = 常數m + 常數p * 最高氣溫 + 常數q*最低氣溫

常數p = 顧客人數與最高氣溫的偏迴歸係數
常數q = 顧客人數與最低氣溫的偏迴歸係數
常數m = 顧客人數平均 - p*最高氣溫的平均 - q*最低氣溫的平均
標準化偏回歸係數：((rby - (ray * rab)) / 1 - rab^2) / (std(y) / std(b))

R = sqrt( (ray^2 + rby^2 - 2 * ray * rby * rab) / (1-rab^2))
```

